<div class="madero-style">
  <div class="app-header u_padding-20-vertical mb-5 border-bottom">
    <!-- App Title -->
    <div class="app-header-title">
      <h1>Displays</h1>
      <div>
        <span ng-show="getProLicenseCount() > 0">
          {{ getProUsedLicenseCount() }} Licensed Display{{getProUsedLicenseCount() > 1 ? 's' : ''}} | {{ getProAvailableLicenseCount() }} License{{getProAvailableLicenseCount() > 1 ? 's' : ''}} Available
        </span>
      </div>
    </div>

    <div class="ml-auto" require-role="da">
      <button ng-click="addDisplay()" class="btn btn-default btn-toolbar">
        Add Display
      </button>
    </div>
  </div>

  <div rv-spinner rv-spinner-key="display-loader" rv-spinner-start-active="1"></div>

  <!-- body -->
  <div>
    <form role="form" name="displayDetails" ng-submit="save()">

      <display-fields></display-fields>

      <div id="errorBox" ng-show="factory.apiError" class="madero-style alert alert-danger u_margin-md-top" role="alert">
        <strong>{{factory.errorMessage}}</strong> {{factory.apiError}}
        <suggest-general-delivery ng-if="factory.isAddressError" address-object="display"></suggest-general-delivery>
      </div>

      <div class="button-row text-right">
        <p class="visible-xs"><last-modified change-date="display.changeDate" changed-by="display.changedBy"></last-modified></p>
        <!-- Indicates delete or destructive action -->
        <button id="deleteButton" type="button" class="btn btn-danger btn-toolbar pull-left" ng-click="confirmDelete()" require-role="da">
          Delete Display
        </button>
        <span class="hidden-xs u_margin-right"><last-modified change-date="display.changeDate" changed-by="display.changedBy"></last-modified></span>
        <!-- Indicates cancel or non-destructive action -->
        <button id="cancelButton" type="button" ui-sref="apps.displays.list" class="btn btn-default btn-toolbar mr-2">
          {{'common.cancel' | translate}}
        </button>
        <!-- Indicates a successful or positive action -->
        <button id="saveButton" type="submit" class="btn btn-primary btn-toolbar" ng-disabled="displayDetails.$invalid || factory.savingDisplay" require-role="da">
          {{ factory.savingDisplay ? ('common.saving' | translate) : ('common.save' | translate)}}
        </button>
      </div>

    </form><!-- displayDetails -->
  </div><!--container-->

</div>
