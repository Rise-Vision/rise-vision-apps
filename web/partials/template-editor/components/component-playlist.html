<div class="rise-playlist-container">

  <!-- default view -->
  <div ng-show="!view" class="attribute-editor-component">
    <div class="templates-selector te-scrollable-container">
      <div class="selected-templates-label">
        <label>Embedded Templates</label>
      </div>
  
      <div rv-sortable on-sort="sortItem(evt)" append-to=".component-container" class="sortable-list">
        <div class="row templates-row  rv-sortable-item" ng-show="selectedTemplates.length > 0"
            ng-repeat="(key, value) in selectedTemplates">
          <div class="list-grip pr-4 rv-sortable-handle">
            <img class="img-responsive" src="../images/navigation-menu-vertical.svg">
          </div>
          <div class="col-xs-12 pl-0 pr-0">
            <span class="playlist-item-name">
              <div class="templates-name">{{ value.name }}</div>
              <div class="templates-status templates-status-inline" ng-class="{'templates-status-revised' : value.revisionStatusName === 'Revised'}">{{ value.revisionStatusName }}</div>
              <div class="templates-status templates-status-inline" > â€¢ {{ durationToText(value) }}</div>
            </span>
          </div>
          <div class="col-xs-2 pr-0 playlist-item-actions">
            <a href="#"
               ng-click="removeTemplate(key)">
               <streamline-icon class="u_margin-left streamline-component-icon" name="trash" width="16" height="16"></streamline-icon>
              </a>
          </div>
        </div>
      </div>

    </div>
    <div class="playlist-action-button-bar">
      <div>
        <button class="btn btn-primary btn-block" ng-click="showAddTemplates()">
          Select Templates
        </button>
      </div>
    </div>
  </div>

  <!-- "add-templates" view -->
  <div class="attribute-editor-component" ng-show="view === 'add-templates'"
  rv-spinner rv-spinner-key="rise-playlist-templates-loader" rv-spinner-start-active="1">
    <div class="templates-selector-search-label">
      <label>Choose A Template</label>
    </div>
    <div class="input-group templates-selector-search-box">
      <span class="input-group-addon" ng-click="searchTemplates()">
        <streamline-icon name="magnifier" width="16" height="16"></streamline-icon>
      </span>
      <input type="text" class="form-control"
            ng-model="searchKeyword" ng-keyup="searchKeyPressed($event)"
            placeholder="Search Templates"
            aria-label="Search Templates">
      <span class="input-group-addon" ng-click="resetSearch()">
        <streamline-icon name="close" width="12" height="12"></streamline-icon>
      </span>
    </div>

    <div class="templates-selector te-scrollable-container"
    scrolling-list="templatesFactory.load()">
      <div class="templates-selector-no-results" ng-show="!(templatesFactory.items.list.length > 0)">
        No Results Found
      </div>

      <div class="row templates-row" ng-show="templatesFactory.items.list.length > 0"
          ng-repeat="(key, value) in templatesFactory.items.list"
          ng-click="selectTemplate(key)">
        <div class="col-xs-12 pl-0 pr-0">
          <span class="templates-selector-checkbox">
            <input id="{{value.id}}" type="checkbox"
                  ng-click="selectTemplate(key)"
                  ng-checked="value.isSelected">
            <label for="{{value.id}}">
              <span></span>
            </label>
          </span>
          <span class="templates-selector-name">
            <div class="templates-name">{{ value.name }}</div>
            <div class="templates-status" ng-class="{'templates-status-revised' : value.revisionStatusName === 'Revised'}">{{ value.revisionStatusName }}</div>
          </span>
        </div>
      </div>
    </div>

    <div class="playlist-action-button-bar">
      <div>
        <button class="btn btn-primary btn-block" ng-click="addTemplates()" ng-disabled="!canAddTemplates">
          Add Template
        </button>
      </div>
    </div>

  </div>

</div>
