<div class="madero-style">
  <div class="app-header my-5">
    <!-- App Title -->
    <h1 class="app-header-title">Unpaid Invoices</h1>

    <div class="ml-auto">
      <button id="shareButton" type="button" class="btn btn-default btn-toolbar mr-2">
        Share
      </button>
    </div>
  </div>

  <!-- <div class="app-header mt-5 mb-4">
  </div> -->

  <div rv-spinner rv-spinner-key="unpaid-invoice-loader" rv-spinner-start-active="1">
    <div id="errorBox" ng-show="unpaidInvoices.apiError" class="madero-style alert alert-danger" role="alert">
      <p><strong>{{unpaidInvoices.errorMessage}}</strong></p>
      {{unpaidInvoices.apiError}}
    </div>

    <div id="errorBox" ng-show="billingFactory.apiError" class="madero-style alert alert-danger" role="alert">
      <strong>{{billingFactory.apiError}}</strong>
    </div>

    <div class="scrollable-list horizontal-scroll border-container u_margin-md-top u_margin-md-bottom" scrolling-list="unpaidInvoices.load()">

      <table id="unpaidInvoicesListTable" class="table">
        <thead class="table-header">
          <tr class="table-header__row">
            <th class="table-header__cell col-xs-1">Status</th>
            <th class="table-header__cell col-xs-1">Date</th>
            <th class="table-header__cell col-xs-2">Description</th>
            <th class="table-header__cell col-xs-5">Amount</th>
            <th class="table-header__cell col-xs-2">Invoice</th>
            <th class="table-header__cell col-xs-1">&nbsp;</th>
          </tr>
        </thead>
        <tbody class="table-body">
          <tr class="table-body__row" ng-repeat="item in unpaidInvoices.items.list">
            <td class="table-body__cell">
              <streamline-icon class="status unpaid" name="exclamation" width="5" height="15" ng-show="item.invoice.status !== 'paid'"></streamline-icon>
              <streamline-icon class="status paid" name="checkmark" width="17" height="14" ng-show="item.invoice.status === 'paid'"></streamline-icon>
            </td>
            <td class="table-body__cell">{{item.invoice.date * 1000 | date:'d-MMM-yyyy'}}</td>
            <td class="table-body__cell font-weight-bold">
              Invoice #{{item.invoice.id}}
            </td>
            <td class="table-body__cell">
              ${{item.invoice.total / 100 | number:2}}
            </td>
            <td class="table-body__cell">
              <a class="madero-link u_clickable" ng-click="billingFactory.downloadInvoice(item.invoice.id)">
                <img src="../images/icon-download.svg" width="20" height="20">
              </a>
            </td>
            <td class="table-body__cell py-0">
              <a class="btn btn-default btn-pay-now" ng-if="item.invoice.status !== 'paid'" ui-sref="apps.billing.invoice({invoiceId: item.invoice.id, token: billingFactory.getToken()})" target="_blank">Pay Now</a>
            </td>
          </tr>

          <tr ng-show="unpaidInvoices.items.list.length === 0 && unpaidInvoices.items.list.length === 0">
            <td colspan="6" class="text-center"><span translate>You do not have any unpaidInvoices yet.</span></td>
          </tr>
        </tbody>
      </table>

    </div>

    <div class="u_margin-lg text-center">
      <label>Need help with something?</label>
      <p><a class="madero-link" href="https://help.risevision.com/hc/en-us/articles/360041149991-Payment-instructions-and-common-questions-" target="_blank">Common Billing & Payment Questions</a></p>
    </div>

  </div><!--container-->
</div><!--appLauncherContainer-->
