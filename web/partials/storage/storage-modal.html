
<div class="modal-body storage-full" stop-event="touchend" id="storageSelectorModal">
  <button type="button" id="closeButton" class="close" ng-click="dismiss()" aria-hidden="true">
    <i class="fa fa-times"></i>
  </button>

	<div class="padding-large-horizontal padding-large-bottom">
	<div class="app-header half-top">
	  <div class="title-block">
	    <!-- App Title -->
	    <h1 id="title">Select a File</h1>
	  </div>

	  <div class="global-actions">
	  	<button id="newFolderButton" class="btn btn-lg btn-default" ng-click="fileSelectorFactory.addFolder()" ng-disabled="isTrashFolder()">
        <span translate="storage-client.new-folder"></span>
        <svg-icon p="iconNewFolder"></svg-icon>
	  	</button>
	    <button class="btn btn-lg btn-primary" ng-hide="true">
	      Upload
	      <i class="fa fa-cloud-upload fa-lg icon-right"></i> 
	    </button>
	  </div>
	</div><!--app-header-->

  <search-filter filter-config="filterConfig" search="search" do-search="search.doSearch"></search-filter>

	<div class="icon-nav half-top text-right">
		
	</div>

	<div class="content-box half-top">
    <div class="scrollable-list" 
      rv-spinner rv-spinner-key="storage-selector-loader"
      rv-spinner-start-active="1"
      >
      <table class="table-2 table-hover table-selector" ng-class="storageFull || multipleFileSelector ? 'multiple-selector' : 'single-selector'" ng-show="statusDetails.code!==202 && statusDetails.code!==404 && isFileListVisible()">
        <thead>
          <tr>
            <th class="col-sm-6">
              <input type="checkbox" class="add-right" ng-model="selectAll">
              <label ng-click="selectAllCheckboxes(query)" ng-show="storageFull || multipleFileSelector"></label>
              <a href="" ng-click="orderByAttribute = fileNameOrderFunction; reverseSort = !reverseSort">
                <span translate="common.file-name" ></span>
                <span ng-show="orderByAttribute==fileNameOrderFunction">
                  <span ng-show="reverseSort">
                    <i class="fa fa-long-arrow-up"></i>
                  </span>
                  <span ng-show="!reverseSort">
                    <i class="fa fa-long-arrow-down"></i>
                  </span>
                </span>
              </a>
            </th>
          </tr>
        </thead>
        <tbody>
          <tr class="clickable-row"
              ng-click="fileClick(file);"
              ng-class="{'active': file.isChecked, 'blocked-file': file.isThrottled, 'back-btn': file.currentFolder, 'no-select-row': file.currentFolder || fileIsTrash(file) || (fileIsFolder(file) && !storageFull) }"
              ng-repeat="file in filesDetails.files | filter:search.query | orderBy:orderByAttribute:reverseSort track by $index">
            <td colspan="{{storageFull ? 5 : 4}}" ng-if="fileIsFolder(file) && (!fileIsTrash(file) || storageFull)">
              <span class="folder">{{file.name | fileNameFilter:filesFactory.folderPath}}</span>
            </td>
            <td ng-if="!fileIsFolder(file)" class="col-sm-6">
              <span class="file" ng-class='{"throttled-type": file.isThrottled && !fileIsFolder(file)}'>
                <a style="white-space: nowrap;overflow: hidden;text-overflow: ellipsis;" href="" data-toggle="tooltip" title="{{file.name | fileNameFilter:currentDecodedFolder}}">
                  <i class="fa" ng-class='{"fa-exclamation": file.isThrottled && !fileIsFolder(file), "icon-red": file.isThrottled && !fileIsFolder(file)}'></i>
                  {{file.name | fileNameFilter:filesFactory.folderPath}}
                </a>
              </span>
              <div ng-show="file.showThrottledCallout && !fileIsFolder(file)" class="callout callout-red" ng-click="file.showThrottledCallout=false">
                <span class="arrow"></span>
                <strong>File Is Blocked</strong>
                <p>This file is being requested too many times and is blocked. If you have a <a href="http://support.risevision.com" target="_blank">support subscription</a> please open a ticket for assistance with resolving this.  Otherwise, please post in the <a href="http://community.risevision.com" target="_blank">community</a> for help.</p>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
		</div>	
	</div><!--padding-->
</div><!--modal-body-->
